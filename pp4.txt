%%writefile 4.c
#include <stdio.h>
#include <omp.h>

int main() {
    int n = 10000000;   // large size to see time difference
    static int a[10000000], b[10000000], c[10000000];

    for(int i = 0; i < n; i++)
        a[i] = b[i] = 1;

    int threads[] = {1, 2, 4, 8};

    printf("Vector Addition using OpenMP\n");
    printf("N = %d\n", n);
    printf("---------------------------------\n");
    printf("Threads\tExecution Time (sec)\n");

    for(int t = 0; t < 4; t++) {
        omp_set_num_threads(threads[t]);

        double start = omp_get_wtime();

        #pragma omp parallel for
        for(int i = 0; i < n; i++)
            c[i] = a[i] + b[i];

        double end = omp_get_wtime();

        printf("%d\t%f\n", threads[t], end - start);
    }

    printf("\nSample Output: c[0] = %d\n", c[0]);
    return 0;
}
// for compilation : gcc 4.c -fopenmp -o 4
// for execution : ./4
